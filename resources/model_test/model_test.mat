#type mat

block properties {
    vec4 color;
}
section frag {
    out vec4 diffuse(in vec3 f_position) {
    GLSL
        const float factor = 12;
        if ((abs(factor*f_position.x - int(factor*f_position.x)) > 0.5)
          != (abs(factor*f_position.y - int(factor*f_position.y)) > 0.5)) {
            return color * 0.5;
        }
        return color;
    END
    }
    out vec3 f_position(in vec3 f_position) {
    GLSL
        return f_position;
    END
    }
    out vec3 f_normal(in vec3 f_normal) {
    GLSL
        return f_normal;
    END
    }
}
